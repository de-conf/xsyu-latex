\pagenumbering{arabic}
\section{绪论}

\subsection{研究背景}

随着互联网的高速发展，为了提供更好的互联网服务，网络基础设备的也在不断增加，这其中就有大量的路由器，交换机，服务器等设备需要一个良好的工作环境温度，来保证设备的稳定运行。当前，传统方式维护各设备的环境依旧采用人力方式，造成大量的人力浪费和重复性劳动，因此迫切需要将已有的工作自动化、智能化。

目前，温度控制类型的产品在行业内一般设计为在机器上操作，无法远程控制，不能很好满足精确控制，节能的要求。本系统既可以远程控制温度，又可以实时监控温度，火焰，烟雾，并对火灾等突发情况做出预警，可以很好满足运维人员维护监控的需求来维持通信机房稳定运行。我校（西安石油大学）的各设备间的温度控制依旧采用人力进行控制，且无法及时获取温度，湿度，烟雾等关键环境信息，带来了一定的空调电力浪费和安全的隐患。针对以上的通信机房运维巡检工作，使用新兴的物联网技术，设计并实现了通信机房温度监控和智能化控制，解决了传统运维管理方式的效率地下，工作繁琐，无法实时介入处理的问题。还有很多生活中的场景可以用本系统来完成，因此本系统前景广阔，很有研究的意义。

基于Arduino的机房分布式温度控制系统是一个用于多机房的温度监控调节系统，由笔者独立开发，现在已经投入使用，承担了机房温度监控和控制的任务，到目前为止，该系统运行良好。

\subsection{国内外研究现状}

由于本课题涉及了多个方面，所以需要从多个方面去调查研究目前国外的使用情况和应用方式。这其中又主要包含三个方面：分别为对数据中心的温度的控制、Arduino开发板的应用现状、物联网云平台的应用。

对于数据中心方面的温度控制情况如下:

在数据中心机房的使用过程中急需解决的问题是：机房巨大的耗电量及室内温度严重超标。更甚者在一些地方的数据中心机房出现了因空调制冷量不足,机房温度过高威胁机房设备运行安全等问题,并且数据中心业务具有高能耗的特征。因此若想建立低功耗、环保节能的数据中心机房则需要解决好机房空调系统的合理运行,这一过程已成为现如今数据中心机房建设以及使用过程中不可避免的环节\upcite{邹燕2016idc}。

目前国内对于机房温度控制方面，在数据中心采用的是常规冷水空调系统、单冷源+板式换热器空调系统和双冷源+板式换热器空调系统\upcite{刘倩倚2013数据机房双冷源空调系统设计与分析}，这种情况要保持空调常年开机运行。这种情况只适合大型机房，机器集中放置，制冷与散热要求异常严格的企业机房。并不适用于分布式放置设备和要求节能减排的学校，因此，其温度控制方面对于本课题无太大参考价值。

Arduino开发板的应用现状：

Arduino 是一个用于自动化开发各种物理设备的平台,它使得您可以充分地感知并控制整个物理世界。 它是一个以单片机为基础的一系列开源物理计算软件平台。目前国内外。由于Arduino的开放性和便捷性，针对Arduino的使用非常流行。例如在GitHub\footnote{GitHub是一个使用Git进行版本控制的基于网络的托管服务，主要用于管理程序员软件代码和项目。}以及arduino.cc\footnote{Arduino创作者平台，具有大量的可参考项目。 网址:\url{https://create.arduino.cc/projecthub/} }网站上有大量的应用示例。但是其基本都是针对Arduino为核心，进行软硬件扩展，只适用于单系统，无法针对数据进行收集和汇总，无法满足分布式系统的监控、控制等要求。

物联网云平台的应用现状：

对于进行数据收集和处理的国内物联网云平台，较为规范、开放的云平台，国内主要有OneNET\footnote{OneNET是由中国移动打造的PaaS物联网开放平台}、贝壳物联\footnote{\url{https://www.bigiot.net/}---物联网云平台，通过互联网以对话、遥控器等形式与你的智能设备聊天、发送指令，查看实时数据，跟实际需求设置报警条件，通过APP、邮件、短信、微博、微信等方式通知用户。}。前者只适用于多设备接入，界面复杂，并未对特定场景有优化。后者较为符合要求，但是超过一定连接设备需要付费。都不能很好满足校园机房分布式温度监控的要求。

总的来说：

温度自动控制器技术是一种属于促进我国应用现代工业信息电子技术的先进尖端技术产物,特别多的是目前温度自动控制器已被广泛应用于促进我国现代工农业质量生产、科学技术研究和普通民众日常生活等各个领域,数量日益不断攀升。温度驱动控制器系统是一种对控制温度的直接控制驱动设备,它根据一个使用者所想要需的控制温度和其所设定的控制温度之差设定值即可来直接控制整个温度加热器的正常运作,从而直接可以达到通过温度改变一个使用者所想的需控制温度的主要控制目的。近百年来,温度管理控制器的工业应用技术发展主要分为经历了以下几个发展阶段:

(1)通过仿真、集成机械式的自动温度管理控制器;

(2)最终采用电子式的完全智能自动温度控制管理器。

目前,国内外上新型的空气温度传感控制器正从我们传统的模拟式、数字化、电子式由实现集成化向实现智能化、网络化三大方向不断演进。现今基于这种单片机的温度控制管理系统已经在加强企业的安全生产经营管理、安全事故防护以及企业节省能源等各个方面上都起到了很大的促进作用。近年来,国内基于温控单片机的室内温度控制器和传感器管理系统在技术上已经不断得到迅猛的进步发展,性能不断完善,功能不断稳步提高和功能增强,适用范围也越来越不断扩大拓宽,市场占有率也逐年稳步提高,进入21世纪后,智能化的室内温控温度传感器控制系统正朝着高标准精度、多功能、总线结构标准化、高可靠性及更高安全性、开发新的虚拟应用温控器和开发互联化的网络应用温控器、研制应用单片机测温温度控制管理系统等国内高新技术的快速发展五大方向快速发展进步。
当前，国内外新型温控器正在从模拟向数字，电子向一体化、智能化、网络化方向发展。目前以单片机为核心的温控系统在生产、安全保护和节能方面发挥了重要作用。近几年来，以单片机为基础的国内温控系统在技术上发展迅速，性能不断提高，功能不断增加，应用范围不断扩大，市场份额逐年增加，进入21世纪后，智能温控系统快速向高精度、多功能、总线标准化、高可靠性和安全性、虚拟温控器和网络温控器的开发、单片机测温系统等高新技术方向发展。\upcite{吴禄慎2010基于单片机的多点温度采集系统设计}。


\subsection{研究需求与意义}

为了保证通信机房设备的良好运行，温度的监控和控制是十分必要的。例如，对于通信机房中的交换机或者路由器，如果温度偏高，就会导致机器散热堆积，使得集成电路和二极管等元器件形成结晶，热堆积严重时甚至会烧毁设备，相对的，温度过低时，会导致绝缘材料变脆，以及冷凝结露。这种情况下导致设备短路，也会对设备的寿命和可靠性造成影响\upcite{李红双2014通信机房智能温度控制系统的设计}。

基于对以上需求的分析，为了保证对于通信机房的温度控制和监控，基于Arduino的分布式温度控制系统有着明显的现实需求和意义。

本项目通过物联网技术进行数据共享和更新，具有分布式便于扩展，方便部署的特点，解决了线下运维巡检方面的重复性工作，保证了对于机房的温度精细控制。提供烟雾自动报警，无论从自动化，环保，安全角度考虑。这套系统对于机房管理人员都将提供更便捷，智能的工作方式。


\subsection{主要工作和设计}

本系统是对环境温度进行实时监测和控制，设计开发的分布式温度监测控制系统。实现了基本的温度、湿度、烟雾的监控功能以及火灾报警功能：各个节点的Arduno通过传感器模块，采集到环境信息后,进行判断：当环境温度低于设定的下限阈值温度时，通过红外模块，切换空调的模式为自动。以便节省能耗。当环境温度高于设定的上限时，通过红外模块，启动空调的制冷模式，防止设备的热堆积现象。并通过W5100以太网扩展模块以MQTT\footnote{MQTT 协议 是基于发布/订阅模式的物联网通信协议，凭借简单易实现、支持 QoS、报文小等特点，占据了物联网协议的半壁江山。}协议，发送相关的温度、湿度、烟雾到指定服务器。服务端采用Linux作为服务器，安装MQTT服务端接受数据，采用Python的Flask模块快速构建WEB应用程序，其负责对MQTT服务端的数据解析和数据分析：当烟雾值超过预设值时，自动发送邮件报警到指定邮箱。通过这些共同构建完成了基于Arduino的分布式温度控制系统。

需要实现的功能如下：

1. 监控点口管理功能。 自动发现Arduino监控节点功能，提供可视化的个管理与配置功能。配置监控节点的地址位置、IP地址阈值设置、管理人员等。

2. 关键指标的统计展示功能。 根据监控节点采集的温度、湿度、PM2.5、烟感等信息，结合监控节点的部署位置、指标阈值等。提供不同维度的信息展示功能。 

3. 温度控制功能。 根据采集到的的实时，提供通过红外传感器控制空调的温度的功能。 

4. 告警功能 设置系统级的告警阈值和单个节点的告警阈值，其中单个节点的阈值优先级高于系统级别； 系统级别的告警接收人和单个节点的告警接收人，单个节点告警接收与系统级别并存； 提供邮件等方式告警。

\subsection{本章小结}
本章主要论述基于目前国内外对于温度控制，Arduino,物联网平台的研究，通过对该方向的深入了解，确立合适的基于Arduino的分布式温度控制系统的技术选型以及整体架构设计。对论文中主要涉及的工作进行立项，确定基于Arduino的分布式温度控制系统的实现的具体功能和模块设计。